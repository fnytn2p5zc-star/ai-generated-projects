@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ── Default Theme (Light) ── */
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71% 4%;
    --card: 0 0% 100%;
    --card-foreground: 224 71% 4%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71% 4%;
    --primary: 262 83% 58%;
    --primary-foreground: 210 40% 98%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 220 9% 46%;
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;
    --accent: 262 83% 96%;
    --accent-foreground: 262 83% 40%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 262 83% 58%;
    --radius: 0.75rem;

    /* Status colors */
    --status-todo: 220 14% 96%;
    --status-in-progress: 217 91% 60%;
    --status-review: 262 83% 58%;
    --status-done: 142 76% 36%;

    /* Syntax highlighting */
    --hljs-keyword: 262 83% 58%;
    --hljs-string: 142 76% 36%;
    --hljs-title: 217 91% 50%;
    --hljs-attr: 25 95% 53%;
    --hljs-symbol: 262 83% 58%;
    --hljs-builtin: 0 84% 60%;
  }

  /* ── Default Theme (Dark) ── */
  .dark {
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;
    --card: 224 71% 6%;
    --card-foreground: 213 31% 91%;
    --popover: 224 71% 6%;
    --popover-foreground: 213 31% 91%;
    --primary: 262 83% 65%;
    --primary-foreground: 224 71% 4%;
    --secondary: 215 28% 17%;
    --secondary-foreground: 213 31% 91%;
    --muted: 215 28% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 262 50% 20%;
    --accent-foreground: 262 83% 80%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 210 40% 98%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 262 83% 65%;

    --status-todo: 215 28% 20%;
    --status-in-progress: 217 91% 50%;
    --status-review: 262 83% 50%;
    --status-done: 142 76% 30%;

    --hljs-keyword: 262 83% 75%;
    --hljs-string: 142 76% 50%;
    --hljs-title: 217 91% 65%;
    --hljs-attr: 25 95% 63%;
    --hljs-symbol: 262 83% 75%;
    --hljs-builtin: 0 84% 65%;
  }

  /* ── RPG Theme (Light - Warm parchment) ── */
  [data-theme="rpg"] {
    --background: 39 40% 94%;
    --foreground: 25 30% 12%;
    --card: 39 35% 96%;
    --card-foreground: 25 30% 12%;
    --popover: 39 35% 96%;
    --popover-foreground: 25 30% 12%;
    --primary: 43 96% 56%;
    --primary-foreground: 25 40% 10%;
    --secondary: 33 25% 88%;
    --secondary-foreground: 25 30% 30%;
    --muted: 33 20% 90%;
    --muted-foreground: 25 15% 45%;
    --accent: 43 50% 90%;
    --accent-foreground: 43 80% 30%;
    --destructive: 0 72% 50%;
    --destructive-foreground: 39 40% 98%;
    --border: 33 30% 80%;
    --input: 33 30% 80%;
    --ring: 43 96% 56%;

    --status-todo: 33 20% 88%;
    --status-in-progress: 25 90% 55%;
    --status-review: 270 50% 55%;
    --status-done: 152 60% 38%;

    --hljs-keyword: 0 65% 45%;
    --hljs-string: 152 60% 32%;
    --hljs-title: 43 80% 40%;
    --hljs-attr: 25 80% 45%;
    --hljs-symbol: 0 65% 45%;
    --hljs-builtin: 0 72% 50%;
  }

  /* ── RPG Theme (Dark - Tavern dark) ── */
  [data-theme="rpg"].dark {
    --background: 25 25% 8%;
    --foreground: 39 30% 85%;
    --card: 25 22% 11%;
    --card-foreground: 39 30% 85%;
    --popover: 25 22% 11%;
    --popover-foreground: 39 30% 85%;
    --primary: 43 96% 58%;
    --primary-foreground: 25 30% 8%;
    --secondary: 25 18% 16%;
    --secondary-foreground: 39 25% 75%;
    --muted: 25 18% 16%;
    --muted-foreground: 30 15% 55%;
    --accent: 43 40% 18%;
    --accent-foreground: 43 90% 70%;
    --destructive: 0 62% 45%;
    --destructive-foreground: 39 40% 95%;
    --border: 30 18% 22%;
    --input: 30 18% 22%;
    --ring: 43 96% 58%;

    --status-todo: 25 18% 18%;
    --status-in-progress: 25 80% 45%;
    --status-review: 270 40% 40%;
    --status-done: 152 50% 30%;

    --hljs-keyword: 0 60% 65%;
    --hljs-string: 152 55% 55%;
    --hljs-title: 43 90% 60%;
    --hljs-attr: 25 85% 60%;
    --hljs-symbol: 0 60% 65%;
    --hljs-builtin: 0 62% 55%;
  }

  /* ── Ocean Theme (Light) ── */
  [data-theme="ocean"] {
    --background: 200 30% 96%;
    --foreground: 210 40% 10%;
    --card: 200 25% 98%;
    --card-foreground: 210 40% 10%;
    --popover: 200 25% 98%;
    --popover-foreground: 210 40% 10%;
    --primary: 200 80% 50%;
    --primary-foreground: 200 20% 98%;
    --secondary: 200 20% 90%;
    --secondary-foreground: 200 30% 35%;
    --muted: 200 20% 92%;
    --muted-foreground: 200 15% 45%;
    --accent: 200 60% 90%;
    --accent-foreground: 200 80% 30%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 200 20% 98%;
    --border: 200 20% 85%;
    --input: 200 20% 85%;
    --ring: 200 80% 50%;

    --status-todo: 200 20% 90%;
    --status-in-progress: 200 80% 50%;
    --status-review: 230 70% 55%;
    --status-done: 170 60% 38%;

    --hljs-keyword: 200 80% 40%;
    --hljs-string: 170 60% 32%;
    --hljs-title: 220 75% 48%;
    --hljs-attr: 180 60% 38%;
    --hljs-symbol: 200 80% 40%;
    --hljs-builtin: 0 70% 55%;
  }

  /* ── Ocean Theme (Dark) ── */
  [data-theme="ocean"].dark {
    --background: 210 40% 8%;
    --foreground: 200 25% 85%;
    --card: 210 35% 11%;
    --card-foreground: 200 25% 85%;
    --popover: 210 35% 11%;
    --popover-foreground: 200 25% 85%;
    --primary: 200 80% 60%;
    --primary-foreground: 210 40% 6%;
    --secondary: 210 25% 16%;
    --secondary-foreground: 200 20% 75%;
    --muted: 210 25% 16%;
    --muted-foreground: 200 15% 55%;
    --accent: 200 40% 18%;
    --accent-foreground: 200 70% 75%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 200 20% 95%;
    --border: 210 25% 20%;
    --input: 210 25% 20%;
    --ring: 200 80% 60%;

    --status-todo: 210 25% 18%;
    --status-in-progress: 200 80% 55%;
    --status-review: 230 60% 50%;
    --status-done: 170 50% 32%;

    --hljs-keyword: 200 80% 70%;
    --hljs-string: 170 55% 55%;
    --hljs-title: 220 75% 68%;
    --hljs-attr: 180 55% 60%;
    --hljs-symbol: 200 80% 70%;
    --hljs-builtin: 0 70% 65%;
  }

  /* ── Forest Theme (Light) ── */
  [data-theme="forest"] {
    --background: 140 25% 95%;
    --foreground: 150 30% 10%;
    --card: 140 20% 97%;
    --card-foreground: 150 30% 10%;
    --popover: 140 20% 97%;
    --popover-foreground: 150 30% 10%;
    --primary: 150 60% 40%;
    --primary-foreground: 140 20% 98%;
    --secondary: 140 18% 88%;
    --secondary-foreground: 150 25% 30%;
    --muted: 140 18% 90%;
    --muted-foreground: 140 12% 45%;
    --accent: 140 35% 88%;
    --accent-foreground: 150 60% 25%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 140 20% 98%;
    --border: 140 18% 82%;
    --input: 140 18% 82%;
    --ring: 150 60% 40%;

    --status-todo: 140 18% 88%;
    --status-in-progress: 150 60% 40%;
    --status-review: 80 50% 42%;
    --status-done: 120 60% 35%;

    --hljs-keyword: 150 60% 32%;
    --hljs-string: 80 55% 35%;
    --hljs-title: 200 50% 42%;
    --hljs-attr: 30 65% 45%;
    --hljs-symbol: 150 60% 32%;
    --hljs-builtin: 0 65% 50%;
  }

  /* ── Forest Theme (Dark) ── */
  [data-theme="forest"].dark {
    --background: 150 30% 8%;
    --foreground: 140 20% 85%;
    --card: 150 25% 11%;
    --card-foreground: 140 20% 85%;
    --popover: 150 25% 11%;
    --popover-foreground: 140 20% 85%;
    --primary: 150 60% 50%;
    --primary-foreground: 150 30% 6%;
    --secondary: 150 20% 16%;
    --secondary-foreground: 140 18% 75%;
    --muted: 150 20% 16%;
    --muted-foreground: 140 12% 55%;
    --accent: 150 30% 16%;
    --accent-foreground: 150 55% 70%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 140 20% 95%;
    --border: 150 20% 20%;
    --input: 150 20% 20%;
    --ring: 150 60% 50%;

    --status-todo: 150 20% 18%;
    --status-in-progress: 150 55% 45%;
    --status-review: 80 40% 38%;
    --status-done: 120 50% 30%;

    --hljs-keyword: 150 55% 60%;
    --hljs-string: 80 50% 55%;
    --hljs-title: 200 50% 65%;
    --hljs-attr: 30 60% 60%;
    --hljs-symbol: 150 55% 60%;
    --hljs-builtin: 0 60% 60%;
  }

  /* ── Cyberpunk Theme (Light) ── */
  [data-theme="cyberpunk"] {
    --background: 280 15% 95%;
    --foreground: 270 20% 10%;
    --card: 280 12% 97%;
    --card-foreground: 270 20% 10%;
    --popover: 280 12% 97%;
    --popover-foreground: 270 20% 10%;
    --primary: 320 90% 60%;
    --primary-foreground: 280 15% 98%;
    --secondary: 280 15% 88%;
    --secondary-foreground: 280 20% 35%;
    --muted: 280 12% 90%;
    --muted-foreground: 280 10% 45%;
    --accent: 280 30% 88%;
    --accent-foreground: 320 70% 40%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 280 15% 98%;
    --border: 280 15% 82%;
    --input: 280 15% 82%;
    --ring: 320 90% 60%;

    --status-todo: 280 15% 88%;
    --status-in-progress: 320 90% 55%;
    --status-review: 260 70% 55%;
    --status-done: 170 70% 40%;

    --hljs-keyword: 320 85% 50%;
    --hljs-string: 170 65% 35%;
    --hljs-title: 260 70% 50%;
    --hljs-attr: 40 80% 45%;
    --hljs-symbol: 320 85% 50%;
    --hljs-builtin: 0 75% 55%;
  }

  /* ── Cyberpunk Theme (Dark) ── */
  [data-theme="cyberpunk"].dark {
    --background: 270 20% 6%;
    --foreground: 280 15% 88%;
    --card: 270 18% 9%;
    --card-foreground: 280 15% 88%;
    --popover: 270 18% 9%;
    --popover-foreground: 280 15% 88%;
    --primary: 320 100% 65%;
    --primary-foreground: 270 20% 4%;
    --secondary: 270 18% 14%;
    --secondary-foreground: 280 15% 78%;
    --muted: 270 18% 14%;
    --muted-foreground: 280 10% 55%;
    --accent: 280 40% 15%;
    --accent-foreground: 320 90% 75%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 280 15% 95%;
    --border: 270 18% 18%;
    --input: 270 18% 18%;
    --ring: 320 100% 65%;

    --status-todo: 270 18% 16%;
    --status-in-progress: 320 100% 60%;
    --status-review: 260 60% 50%;
    --status-done: 170 60% 35%;

    --hljs-keyword: 320 100% 70%;
    --hljs-string: 170 60% 55%;
    --hljs-title: 260 70% 70%;
    --hljs-attr: 40 80% 62%;
    --hljs-symbol: 320 100% 70%;
    --hljs-builtin: 0 70% 65%;
  }

  /* ── Dracula Theme (Light) ── */
  [data-theme="dracula"] {
    --background: 230 20% 95%;
    --foreground: 231 15% 12%;
    --card: 230 18% 97%;
    --card-foreground: 231 15% 12%;
    --popover: 230 18% 97%;
    --popover-foreground: 231 15% 12%;
    --primary: 265 90% 65%;
    --primary-foreground: 230 20% 98%;
    --secondary: 230 15% 88%;
    --secondary-foreground: 230 15% 35%;
    --muted: 230 15% 90%;
    --muted-foreground: 230 10% 45%;
    --accent: 230 25% 88%;
    --accent-foreground: 265 80% 42%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 230 20% 98%;
    --border: 230 15% 82%;
    --input: 230 15% 82%;
    --ring: 265 90% 65%;

    --status-todo: 230 15% 88%;
    --status-in-progress: 265 80% 58%;
    --status-review: 190 70% 45%;
    --status-done: 135 60% 38%;

    --hljs-keyword: 265 85% 55%;
    --hljs-string: 135 55% 35%;
    --hljs-title: 190 65% 40%;
    --hljs-attr: 60 70% 40%;
    --hljs-symbol: 265 85% 55%;
    --hljs-builtin: 0 75% 55%;
  }

  /* ── Dracula Theme (Dark) ── */
  [data-theme="dracula"].dark {
    --background: 231 15% 12%;
    --foreground: 230 15% 88%;
    --card: 231 15% 15%;
    --card-foreground: 230 15% 88%;
    --popover: 231 15% 15%;
    --popover-foreground: 230 15% 88%;
    --primary: 265 90% 70%;
    --primary-foreground: 231 15% 8%;
    --secondary: 231 14% 18%;
    --secondary-foreground: 230 12% 78%;
    --muted: 231 14% 18%;
    --muted-foreground: 230 10% 55%;
    --accent: 231 20% 18%;
    --accent-foreground: 265 85% 78%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 230 20% 95%;
    --border: 231 15% 22%;
    --input: 231 15% 22%;
    --ring: 265 90% 70%;

    --status-todo: 231 14% 20%;
    --status-in-progress: 265 80% 60%;
    --status-review: 190 60% 45%;
    --status-done: 135 50% 32%;

    --hljs-keyword: 265 90% 75%;
    --hljs-string: 135 50% 55%;
    --hljs-title: 190 65% 65%;
    --hljs-attr: 60 70% 60%;
    --hljs-symbol: 265 90% 75%;
    --hljs-builtin: 0 70% 65%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Prose styles for Markdown content */
@layer components {
  .prose-content {
    @apply text-foreground;
  }

  .prose-content h1 {
    @apply text-2xl font-bold mt-6 mb-4;
  }

  .prose-content h2 {
    @apply text-xl font-semibold mt-5 mb-3;
  }

  .prose-content h3 {
    @apply text-lg font-semibold mt-4 mb-2;
  }

  .prose-content p {
    @apply my-3 leading-relaxed;
  }

  .prose-content ul,
  .prose-content ol {
    @apply my-3 ml-6;
  }

  .prose-content ul {
    @apply list-disc;
  }

  .prose-content ol {
    @apply list-decimal;
  }

  .prose-content li {
    @apply my-1;
  }

  .prose-content a {
    @apply text-primary underline underline-offset-2 hover:text-primary/80;
  }

  .prose-content blockquote {
    @apply border-l-4 border-primary/30 pl-4 my-4 italic text-muted-foreground;
  }

  .prose-content code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
  }

  .prose-content pre {
    @apply bg-muted p-4 rounded-lg overflow-x-auto my-4;
  }

  .prose-content pre code {
    @apply bg-transparent p-0;
  }

  .prose-content hr {
    @apply my-6 border-border;
  }

  .prose-content table {
    @apply w-full my-4 border-collapse;
  }

  .prose-content th,
  .prose-content td {
    @apply border border-border px-3 py-2 text-left;
  }

  .prose-content th {
    @apply bg-muted font-semibold;
  }

  .prose-content img {
    @apply max-w-full h-auto rounded-lg my-4;
  }

  .prose-content strong {
    @apply font-semibold;
  }

  .prose-content em {
    @apply italic;
  }
}

/* ── Syntax highlighting (single rule-set using CSS variables) ── */
.hljs {
  @apply bg-muted text-foreground;
}

.hljs-comment,
.hljs-quote {
  @apply text-muted-foreground italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-addition {
  color: hsl(var(--hljs-keyword));
}

.hljs-number,
.hljs-string,
.hljs-meta .hljs-meta-string,
.hljs-literal,
.hljs-doctag,
.hljs-regexp {
  color: hsl(var(--hljs-string));
}

.hljs-title,
.hljs-section,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class {
  color: hsl(var(--hljs-title));
}

.hljs-attribute,
.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-class .hljs-title,
.hljs-type {
  color: hsl(var(--hljs-attr));
}

.hljs-symbol,
.hljs-bullet,
.hljs-subst,
.hljs-meta,
.hljs-meta .hljs-keyword,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-link {
  color: hsl(var(--hljs-symbol));
}

.hljs-built_in,
.hljs-deletion {
  color: hsl(var(--hljs-builtin));
}

/* Animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes rocket-launch {
  0% {
    right: 0;
    opacity: 1;
  }
  100% {
    right: 100%;
    opacity: 0;
  }
}
