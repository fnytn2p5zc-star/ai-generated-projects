import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

const QUESTS = [
  // ── N5 ──
  {
    title: 'JLPT N5 文法（入門）',
    description: 'N5 是 JLPT 最基础的级别，涵盖基本句型结构、助词、动词活用、形容词变化等核心语法，是所有日语学习的起点。',
    status: 'TODO',
    priority: 'HIGH',
    objectives: [
      '掌握 です/ます 敬体基本句型',
      '理解全部基本助词用法',
      '掌握动词ます形、て形、ない形变化',
      '掌握形容词（い/な）的基本活用',
      '理解存在句、比较句、授受表现基础',
    ],
    resources: [
      { title: 'JLPT Sensei: N5 Grammar List', url: 'https://jlptsensei.com/jlpt-n5-grammar-list/', type: 'article' },
      { title: 'Tae Kim: Basic Grammar', url: 'https://guidetojapanese.org/learn/grammar/stateofbeing', type: 'article' },
      { title: 'Nihongo-e-na: N5 文法', url: 'https://nihongo-e-na.com/jpn/', type: 'other' },
      { title: 'Japanese Test 4 You: N5', url: 'https://japanesetest4you.com/jlpt-n5-grammar-list/', type: 'article' },
    ],
    milestones: [
      { title: '名词句・形容词句', completed: false },
      { title: '助词体系 (は/が/を/に/で/と/も/の/へ/から/まで/より)', completed: false },
      { title: '动词活用：ます形・て形・ない形・た形', completed: false },
      { title: '存在・比较・希望・能力表现', completed: false },
      { title: '接续词与复合句型', completed: false },
    ],
    notes: [
      {
        title: 'N5 核心句型一览',
        content: `## 1. 判断句

| 文型 | 意味 | 例文 |
|---|---|---|
| A は B **です** | A 是 B | 私は学生**です**。 |
| A は B **じゃないです** | A 不是 B | これは本**じゃないです**。 |
| A は B **でした** | A 曾是 B | 昨日は休み**でした**。 |
| A は B **じゃなかったです** | A 曾不是 B | あれは猫**じゃなかったです**。 |

## 2. 存在句

| 文型 | 用途 | 例文 |
|---|---|---|
| 〜に A が **あります** | 无生命物存在 | 机の上に本が**あります**。 |
| 〜に A が **います** | 有生命物存在 | 公園に子供が**います**。 |

## 3. 動詞基本文型

| 文型 | 意味 | 例文 |
|---|---|---|
| V **ます** / V **ません** | 做/不做 | 毎日勉強し**ます**。 |
| V **ました** / V **ませんでした** | 做了/没做 | 昨日映画を見**ました**。 |
| V **てください** | 请做〜 | ここに書い**てください**。 |
| V **ないでください** | 请不要做〜 | ここで写真を撮ら**ないでください**。 |
| V **ている** | 正在做〜 / 状态 | 今、食べ**ています**。 |
| V **たい（です）** | 想做〜 | 日本に行き**たいです**。 |
| V **ましょう** | 一起做吧 | 一緒に行き**ましょう**。 |
| V **ませんか** | 一起做好吗 | 映画を見**ませんか**。 |

## 4. 形容词

### い形容词
| 形式 | 变化 | 例 |
|---|---|---|
| 现在肯定 | そのまま | 高**い**です |
| 现在否定 | い → くない | 高**くない**です |
| 过去肯定 | い → かった | 高**かった**です |
| 过去否定 | い → くなかった | 高**くなかった**です |
| 修饰名词 | そのまま + N | 高**い**ビル |

### な形容词
| 形式 | 变化 | 例 |
|---|---|---|
| 现在肯定 | ～です | 静か**です** |
| 现在否定 | ～じゃないです | 静か**じゃないです** |
| 过去肯定 | ～でした | 静か**でした** |
| 过去否定 | ～じゃなかったです | 静か**じゃなかったです** |
| 修饰名词 | ～な + N | 静か**な**町 |`,
      },
      {
        title: 'N5 助词与接续',
        content: `## 助词总整理

| 助词 | 功能 | 例文 |
|---|---|---|
| **は** | 主题 | 私**は**学生です。 |
| **が** | 主语/新信息 | 誰**が**来ましたか。 |
| **を** | 宾语 | 水**を**飲みます。 |
| **に** | 时间/方向/存在 | 7時**に**起きます。 |
| **で** | 场所/手段 | 電車**で**行きます。 |
| **へ** | 方向（≈に） | 日本**へ**行きます。 |
| **と** | 和/引用 | 友達**と**遊びます。 |
| **も** | 也 | 私**も**行きます。 |
| **の** | 所属 | 私**の**本 |
| **から** | 起点/原因 | 9時**から**始まります。 |
| **まで** | 终点 | 5時**まで**働きます。 |
| **より** | 比较 | 夏**より**冬が好きです。 |
| **か** | 疑问 | これは何です**か**。 |
| **ね** | 确认/感叹 | いい天気です**ね**。 |
| **よ** | 告知/强调 | これ、おいしいです**よ**。 |

## 常用接续表现

| 文型 | 意味 | 例文 |
|---|---|---|
| 〜**から**、〜 | 因为〜 | 暑い**から**、窓を開けます。 |
| 〜**けど**、〜 | 虽然〜但是 | 高い**けど**、買います。 |
| 〜**とき** | 〜的时候 | 暇な**とき**、本を読みます。 |
| 〜**前に** | 〜之前 | 寝る**前に**歯を磨きます。 |
| 〜**た後で** | 〜之后 | 食べ**た後で**散歩します。 |
| 〜**ながら** | 一边〜一边 | 音楽を聞き**ながら**勉強します。 |
| 〜**たり〜たりする** | 又〜又〜 | 歌っ**たり**踊っ**たり**します。 |

## 能力・许可・义务

| 文型 | 意味 | 例文 |
|---|---|---|
| V (こと)が**できる** | 能/会 | 日本語を話す (こと) が**できます**。 |
| V **てもいい** | 可以做〜 | 写真を撮っ**てもいいですか**。 |
| V **てはいけない** | 不许做〜 | ここで泳い**ではいけません**。 |
| V **なければならない** | 必须做〜 | 宿題をし**なければなりません**。 |`,
      },
    ],
  },

  // ── N4 ──
  {
    title: 'JLPT N4 文法（初級）',
    description: 'N4 在 N5 基础上扩展，引入条件表达、被动/使役、敬语基础、更复杂的接续和句末表现，能够进行较完整的日常对话。',
    status: 'TODO',
    priority: 'HIGH',
    objectives: [
      '掌握四种条件表达（と/ば/たら/なら）的区别',
      '理解被动态、使役态、使役被动态',
      '掌握授受表现三组动词',
      '能使用意志形、可能形、命令形',
      '理解基本敬语框架',
    ],
    resources: [
      { title: 'JLPT Sensei: N4 Grammar List', url: 'https://jlptsensei.com/jlpt-n4-grammar-list/', type: 'article' },
      { title: 'Maggie Sensei: N4 Grammar', url: 'https://maggiesensei.com/', type: 'article' },
      { title: 'Wasabi: N4 Grammar', url: 'https://www.wasabi-jpn.com/japanese-grammar/jlpt-n4-grammar/', type: 'article' },
      { title: 'Tokini Andy: N4 Grammar Videos', url: 'https://www.youtube.com/@ToKiniAndy', type: 'video' },
    ],
    milestones: [
      { title: '动词全活用形掌握', completed: false },
      { title: '条件表达四种辨析', completed: false },
      { title: '被动/使役/使役被动', completed: false },
      { title: '授受表现', completed: false },
      { title: '敬语基础与句末表现', completed: false },
    ],
    notes: [
      {
        title: 'N4 动词活用全表',
        content: `## 动词活用形一览

以「書く (かく)」为例：

| 活用形 | 一类(五段) | 二类(一段) | する | 来る |
|---|---|---|---|---|
| ます形 | 書きます | 食べます | します | 来ます |
| ない形 | 書かない | 食べない | しない | 来ない |
| て形 | 書いて | 食べて | して | 来て |
| た形 | 書いた | 食べた | した | 来た |
| 辞書形 | 書く | 食べる | する | 来る |
| 可能形 | 書ける | 食べられる | できる | 来られる |
| 意志形 | 書こう | 食べよう | しよう | 来よう |
| 命令形 | 書け | 食べろ | しろ | 来い |
| 禁止形 | 書くな | 食べるな | するな | 来るな |
| 受身形 | 書かれる | 食べられる | される | 来られる |
| 使役形 | 書かせる | 食べさせる | させる | 来させる |
| 条件形 | 書けば | 食べれば | すれば | 来れば |

## 可能形

表示能力或可能性。
- 漢字が**読めます**。（能读汉字。）
- 明日**来られますか**。（明天能来吗？）
- 一类动词：う段 → え段 + る
- 二类动词：る → られる（口语常省略 ら → れる）

## 意志形

表示意志、提议。
- 明日早く**起きよう**。（明天早起吧。）
- V（よ）うと思っています — 打算做〜
  - 日本に**行こうと思っています**。`,
      },
      {
        title: 'N4 条件表达四种辨析',
        content: `## 条件表达对比

### と — 自然/必然条件
- 春になる**と**、桜が咲きます。（一到春天樱花就开。）
- 特点：自然规律、习惯性结果
- 后项不可用意志/命令/请求

### ば — 假定条件
- 安けれ**ば**、買います。（便宜的话就买。）
- 特点：充分条件,"如果〜的话"
- い形：い → けれ + ば
- 动词：う段 → え段 + ば

### たら — 完成条件
- 家に帰っ**たら**、電話してください。（回到家后请打电话。）
- 特点：最万能，"〜了之后/如果〜"
- 构成：た形 + ら

### なら — 话题条件
- 日本に行く**なら**、京都がいいですよ。（如果去日本的话，京都不错。）
- 特点：基于对方话题进行建议
- 构成：辞書形/名词 + なら

## 使い分け速查

| 场景 | 推荐 | 例文 |
|---|---|---|
| 自然规律 | と | ボタンを押す**と**、ドアが開く。 |
| 一般假设 | ば/たら | 時間があれ**ば**/あっ**たら**、行きます。 |
| 确定将来 | たら | 卒業し**たら**、就職します。 |
| 基于话题建议 | なら | 映画**なら**、この映画がおすすめです。 |
| 后项有请求 | たら | 駅に着い**たら**、連絡してください。 |`,
      },
      {
        title: 'N4 被动・使役・授受',
        content: `## 被动态（受身形）

构成：一类 あ段+れる / 二类 +られる

| 类型 | 例文 | 意味 |
|---|---|---|
| 直接被动 | 先生に**褒められた**。 | 被老师表扬了。 |
| 间接被动 | 電車で足を**踏まれた**。 | 在电车上被踩了脚。 |
| 迷惑被动 | 雨に**降られた**。 | 被雨淋了（遭遇）。 |

## 使役态（使役形）

构成：一类 あ段+せる / 二类 +させる

| 例文 | 意味 |
|---|---|
| 母は私に野菜を**食べさせた**。 | 妈妈让我吃蔬菜。 |
| 先生は学生を**立たせた**。 | 老师让学生站起来。 |

**使役被动**（させられる）— 被迫做
- 毎日野菜を**食べさせられる**。（每天被迫吃蔬菜。）

## 授受表现

| 动词 | 方向 | 例文 |
|---|---|---|
| **あげる** | 我→别人 | 友達にプレゼントを**あげた**。 |
| **もらう** | 别人→我 | 友達にプレゼントを**もらった**。 |
| **くれる** | 别人→我(感恩) | 友達がプレゼントを**くれた**。 |

### 〜てあげる / てもらう / てくれる

| 文型 | 意味 | 例文 |
|---|---|---|
| V て**あげる** | 为别人做〜 | 荷物を持っ**てあげた**。 |
| V て**もらう** | 请别人做〜 | 日本語を教え**てもらった**。 |
| V て**くれる** | 别人为我做〜 | 友達が手伝っ**てくれた**。 |`,
      },
    ],
  },

  // ── N3 ──
  {
    title: 'JLPT N3 文法（中級前期）',
    description: 'N3 是从初级迈向中级的关键阶段，引入大量书面与口语表达、复合语法、敬语进阶，能够理解日常文章和较自然的对话。',
    status: 'TODO',
    priority: 'MEDIUM',
    objectives: [
      '掌握 N3 核心接续表达（〜にとって/〜に対して/〜について 等）',
      '区分近义语法的细微差异',
      '掌握复合助词与形式名词用法',
      '能够理解新闻、通知等日常文体',
    ],
    resources: [
      { title: 'JLPT Sensei: N3 Grammar List', url: 'https://jlptsensei.com/jlpt-n3-grammar-list/', type: 'article' },
      { title: 'Wasabi: N3 Grammar', url: 'https://www.wasabi-jpn.com/japanese-grammar/jlpt-n3-grammar/', type: 'article' },
      { title: 'Nihongo no Mori: N3 文法', url: 'https://www.youtube.com/@nihaboreal', type: 'video' },
      { title: 'Bunpro N3 Grammar', url: 'https://bunpro.jp/', type: 'other' },
    ],
    milestones: [
      { title: '接续助词与复合助词', completed: false },
      { title: '形式名词 (こと/もの/ところ/わけ/はず)', completed: false },
      { title: '句末表现与推量', completed: false },
      { title: '敬语进阶', completed: false },
      { title: '近义语法辨析', completed: false },
    ],
    notes: [
      {
        title: 'N3 核心文型 (上)',
        content: `## 接续・関係

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**について** | 关于〜 | 日本の文化**について**話しました。 |
| ～**に対して** | 对于〜 | この問題**に対して**意見があります。 |
| ～**にとって** | 对〜来说 | 私**にとって**大切な人です。 |
| ～**によって** | 根据〜/由于〜 | 国**によって**文化が違います。 |
| ～**に比べて** | 与〜相比 | 去年**に比べて**暖かいです。 |
| ～**として** | 作为〜 | 留学生**として**日本に来ました。 |
| ～**をもとに** | 以〜为基础 | 事実**をもとに**書きました。 |

## 原因・理由

| 文型 | 意味 | 语气 |
|---|---|---|
| ～**おかげで** | 多亏〜(正面) | あなたの**おかげで**合格しました。 |
| ～**せいで** | 都怪〜(负面) | 雨の**せいで**中止になった。 |
| ～**ために** | 因为〜/为了〜 | 事故の**ために**電車が遅れた。 |
| ～**から/ので** | 因为〜 | ので 比 から 更客观委婉 |
| ～**て** (原因) | 因为〜 | 地震があっ**て**、怖かった。 |

## 变化・状態

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**ようになる** | 变得能〜 | 日本語が話せる**ようになりました**。 |
| ～**ようにする** | 努力做到〜 | 毎日運動する**ようにしています**。 |
| ～**ことになる** | (客观)决定〜 | 来月引っ越す**ことになりました**。 |
| ～**ことにする** | (主观)决定〜 | ダイエット**することにした**。 |
| ～**ている** (結果) | 保持〜状态 | 窓が開い**ています**。 |
| ～**てある** | 被人做了(状态) | 窓が開け**てあります**。 |
| ～**ておく** | 事先做好 | 予約し**ておきます**。 |
| ～**てしまう** | 做完了/遗憾 | 全部食べ**てしまった**。 |`,
      },
      {
        title: 'N3 核心文型 (下)',
        content: `## 形式名词

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**こと** | 事情/名词化 | 大切な**こと**を忘れていた。 |
| ～**もの** | 东西/原因 | 仕方ない**ものね**。 |
| ～**ところ** | 正要/正在/刚刚 | 今出かける**ところ**です。 |
| ～**わけ** | 道理/缘由 | そういう**わけ**で遅れました。 |
| ～**はず** | 应该是 | もう届いた**はず**です。 |
| ～**つもり** | 打算/以为 | 明日行く**つもり**です。 |
| ～**ようだ** | 好像/似乎 | 雨が降る**ようだ**。 |
| ～**らしい** | 听说/看似 | 彼は来ない**らしい**。 |
| ～**そうだ** (様態) | 看起来要〜 | 雨が降り**そうだ**。 |
| ～**そうだ** (伝聞) | 听说〜 | 明日は雨だ**そうだ**。 |

## 推量・判断 辨析

| 文型 | 确信度 | 依据 |
|---|---|---|
| ～**に違いない** | ★★★★★ | 确信 |
| ～**はずだ** | ★★★★ | 逻辑推理 |
| ～**ようだ/みたいだ** | ★★★ | 五感判断 |
| ～**らしい** | ★★★ | 传闻/外在特征 |
| ～**そうだ**(様態) | ★★ | 外观 |
| ～**かもしれない** | ★ | 可能性 |

## 句末表現

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**ばいい** | 做〜就行 | 聞け**ばいい**のに。 |
| ～**わけにはいかない** | 不能/不得不 | 約束を破る**わけにはいかない**。 |
| ～**しかない** | 只能〜 | 歩いて行く**しかない**。 |
| ～**ことはない** | 没必要〜 | そんなに心配する**ことはない**。 |
| ～**べきだ** | 应该〜 | もっと勉強す**べきだ**。 |
| ～**ざるを得ない** | 不得不〜 | 参加せ**ざるを得ない**。 |`,
      },
    ],
  },

  // ── N2 ──
  {
    title: 'JLPT N2 文法（中級後期）',
    description: 'N2 要求能理解新闻、评论等较正式的文体，语法涵盖书面语、硬表达、复杂条件与让步，是日企就职和大学入学的常见门槛。',
    status: 'TODO',
    priority: 'MEDIUM',
    objectives: [
      '掌握 N2 书面语表达（〜に伴い/〜を踏まえて 等）',
      '精通让步、逆接、强调等复杂句型',
      '区分近义 N2 语法的使用场景',
      '能够阅读并理解新闻、社论的逻辑结构',
    ],
    resources: [
      { title: 'JLPT Sensei: N2 Grammar List', url: 'https://jlptsensei.com/jlpt-n2-grammar-list/', type: 'article' },
      { title: 'Wasabi: N2 Grammar', url: 'https://www.wasabi-jpn.com/japanese-grammar/jlpt-n2-grammar/', type: 'article' },
      { title: 'Nihongo no Mori: N2 文法', url: 'https://www.youtube.com/@nihaboreal', type: 'video' },
      { title: 'Bunpro N2 Grammar', url: 'https://bunpro.jp/', type: 'other' },
    ],
    milestones: [
      { title: '书面语接续表达', completed: false },
      { title: '让步与逆接表现', completed: false },
      { title: '限定・强调・程度', completed: false },
      { title: '评价・判断・推论', completed: false },
      { title: '近义文型辨析', completed: false },
    ],
    notes: [
      {
        title: 'N2 核心文型 (上)',
        content: `## 逆接・让步

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**にもかかわらず** | 尽管〜 | 努力した**にもかかわらず**、失敗した。 |
| ～**ものの** | 虽然〜但 | 買った**ものの**、使っていない。 |
| ～**とはいえ** | 虽说〜 | 春**とはいえ**、まだ寒い。 |
| ～**くせに** | 明明〜却(不满) | 知っている**くせに**、教えない。 |
| ～**ながら（も）** | 虽然〜 | 残念**ながら**、参加できません。 |
| ～**つつ（も）** | 虽然〜(书面) | 悪いと思い**つつ**、やめられない。 |
| ～**としても** | 即使〜 | 反対された**としても**、諦めない。 |

## 原因・根据

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**に伴い/に伴って** | 随着〜 | 人口増加**に伴い**、問題が増えた。 |
| ～**につれて** | 随着〜(渐变) | 年を取る**につれて**、体力が落ちる。 |
| ～**上で** | 在〜方面 | 健康の**上で**大切なことです。 |
| ～**をもとに/を基に** | 以〜为基础 | データ**をもとに**分析した。 |
| ～**を踏まえて** | 基于〜(考虑) | 結果**を踏まえて**判断する。 |
| ～**次第で** | 取决于〜 | 努力**次第で**結果が変わる。 |

## 时间・场合

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**に際して** | 在〜之际 | 入学**に際して**、挨拶をする。 |
| ～**に先立って** | 在〜之前 | 会議**に先立って**、資料を配る。 |
| ～**を機に** | 以〜为契机 | 転職**を機に**引っ越した。 |
| ～**たとたん（に）** | 刚一〜就 | ドアを開け**たとたん**、猫が逃げた。 |
| ～**最中に** | 正在〜时 | 会議の**最中に**電話が鳴った。 |
| ～**うちに** | 趁〜期间 | 若い**うちに**旅行したい。 |`,
      },
      {
        title: 'N2 核心文型 (下)',
        content: `## 限定・強調

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**に限り/に限って** | 仅限/偏偏 | 今日**に限って**傘がない。 |
| ～**からこそ** | 正因为〜 | 好きだ**からこそ**、厳しくする。 |
| ～**どころか** | 别说〜 | 漢字**どころか**、ひらがなも読めない。 |
| ～**ばかりか/のみならず** | 不仅〜 | 日本語**ばかりか**、中国語もできる。 |
| ～**こそ** | 正是〜 | 今年**こそ**合格したい。 |
| ～**さえ〜ば** | 只要〜就 | 練習**さえすれば**、上手になる。 |
| ～**だけ(の)** | 所有的/尽 | できる**だけ**早く来てください。 |

## 評価・傾向

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**っぽい** | 像〜/容易〜 | 忘れ**っぽい**人だ。 |
| ～**がちだ** | 容易/往往 | 冬は風邪を引き**がちだ**。 |
| ～**気味** | 有点〜 | 最近太り**気味**です。 |
| ～**かねる** | 难以〜 | お答え**しかねます**。 |
| ～**かねない** | 有可能(不好的) | 事故になり**かねない**。 |
| ～**に過ぎない** | 不过是〜 | これは一例**に過ぎない**。 |
| ～**に相違ない** | 毫无疑问 | 本物**に相違ない**。 |

## 话题・范围

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**にかけては** | 在〜方面 | 料理**にかけては**誰にも負けない。 |
| ～**に関して** | 关于〜(正式) | この件**に関して**説明します。 |
| ～**をめぐって** | 围绕〜 | 環境問題**をめぐって**議論した。 |
| ～**にわたって** | 涉及/持续 | 3年**にわたって**研究した。 |
| ～**を問わず** | 不论〜 | 年齢**を問わず**参加できます。 |
| ～**はもちろん** | 〜自不必说 | 英語**はもちろん**、日本語もできる。 |`,
      },
    ],
  },

  // ── N1 ──
  {
    title: 'JLPT N1 文法（上級）',
    description: 'N1 是 JLPT 最高级别，涵盖高度书面化的表达、古语残留、文语体、微妙的语气差异，能够理解学术论文、文学作品和深度讨论。',
    status: 'TODO',
    priority: 'LOW',
    objectives: [
      '掌握 N1 书面语/文语体表达',
      '理解古语残留在现代日语中的用法',
      '精通高级接续、让步、限定句型',
      '能够阅读学术文献和新闻社论',
    ],
    resources: [
      { title: 'JLPT Sensei: N1 Grammar List', url: 'https://jlptsensei.com/jlpt-n1-grammar-list/', type: 'article' },
      { title: 'Wasabi: N1 Grammar', url: 'https://www.wasabi-jpn.com/japanese-grammar/jlpt-n1-grammar/', type: 'article' },
      { title: 'Nihongo no Mori: N1 文法', url: 'https://www.youtube.com/@nihaboreal', type: 'video' },
      { title: 'Imabi: Advanced Grammar', url: 'https://imabi.org/', type: 'article' },
    ],
    milestones: [
      { title: '文语体与古语残留', completed: false },
      { title: '高级接续表达', completed: false },
      { title: '高级让步・限定', completed: false },
      { title: '感情・态度表达', completed: false },
      { title: '社论/论文文型', completed: false },
    ],
    notes: [
      {
        title: 'N1 核心文型 (上)',
        content: `## 接续・展开

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**をもって** | 以〜(手段/期限) | 本日**をもって**閉店いたします。 |
| ～**を皮切りに** | 以〜为开端 | 東京**を皮切りに**全国で公演する。 |
| ～**ともなると/ともなれば** | 一旦到了〜 | 社長**ともなると**、責任が重い。 |
| ～**ならではの** | 唯〜才有的 | 京都**ならではの**美しさ。 |
| ～**にほかならない** | 正是〜/无非 | 成功は努力の結果**にほかならない**。 |
| ～**に至るまで** | 直到〜(全范围) | 子供から老人**に至るまで**楽しめる。 |
| ～**はおろか** | 别说〜(=どころか) | 漢字**はおろか**、ひらがなも書けない。 |

## 逆接・让步 (高级)

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**たところで** | 即使〜也(无用) | 今さら謝っ**たところで**、許さない。 |
| ～**ようが/ようと** | 不管怎么〜 | 何を言われ**ようと**、気にしない。 |
| ～**であれ/であろうと** | 即使是〜 | たとえ王**であれ**、法には従う。 |
| ～**ものを** | 明明可以〜却(遗憾) | 言えばいい**ものを**、黙っていた。 |
| ～**ないまでも** | 虽不至于〜也 | 完璧でない**までも**、努力はした。 |
| ～**とは言え** | 虽说如此 | 経験者**とは言え**、油断は禁物だ。 |

## 限定・程度

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**に至っては** | 至于〜(更甚) | 兄は無職、弟**に至っては**借金まみれだ。 |
| ～**ならいざ知らず** | 如果是〜还好说 | 子供**ならいざ知らず**、大人が泣くとは。 |
| ～**ともあろう（人が）** | 像〜这样的(人居然) | 医者**ともあろう人が**、タバコを吸うとは。 |
| ～**たりとも〜ない** | 一点也不 | 一秒**たりとも**無駄にしない。 |
| ～**ずにはおかない** | 不〜不行/必然 | 感動せ**ずにはおかない**映画だ。 |`,
      },
      {
        title: 'N1 核心文型 (下)',
        content: `## 感情・态度

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**てやまない** | 衷心〜(不止) | ご活躍を願っ**てやみません**。 |
| ～**を禁じ得ない** | 禁不住〜 | 涙**を禁じ得ない**。 |
| ～**極まりない/極まる** | 极其〜 | 失礼**極まりない**態度だ。 |
| ～**に堪えない** | 不堪〜/深感〜 | 感謝**に堪えません**。 |
| ～**まじき** | 不该〜(批判) | 教師にある**まじき**行為だ。 |
| ～**ないものでもない** | 并非不能 | 考えられ**ないものでもない**。 |
| ～**ずにはいられない** | 忍不住 | 笑わ**ずにはいられなかった**。 |

## 书面语/文语

| 文型 | 意味 | 对应口语 |
|---|---|---|
| ～**べく** | 为了〜 | ～ために |
| ～**べからず** | 不许〜 | ～てはいけない |
| ～**ざる** | 不〜(连体) | ～ない |
| ～**ごとく/ごとき** | 如同〜 | ～ように/みたいな |
| ～**たる（もの）** | 身为〜的 | ～としての |
| ～**んがため（に）** | 为了〜(书面) | ～ために |
| ～**いかん** | 取决于〜 | ～次第 |

## 复合高频文型

| 文型 | 意味 | 例文 |
|---|---|---|
| ～**であれ〜であれ** | 无论〜还是〜 | 男**であれ**女**であれ**、平等だ。 |
| ～**にせよ〜にせよ** | 无论〜还是〜 | 賛成**にせよ**反対**にせよ**、意見を言え。 |
| ～**ようにも〜ない** | 想〜也〜不了 | 泳ぎ**ようにも**泳げ**ない**。 |
| ～**が〜なら〜も〜** | 〜如此〜也如此 | 親**が**親**なら**子**も**子だ。 |
| ～**つ〜つ** | 互相/交替 | 持ち**つ**持たれ**つ**の関係。 |
| ～**てからというもの** | 自从〜以来 | 日本に来**てからというもの**、毎日忙しい。 |`,
      },
    ],
  },
]

// ─── Main ────────────────────────────────────────────────────
async function main() {
  console.log('Adding JLPT N5-N1 grammar content...')

  // Find Japanese category
  const category = await prisma.category.findFirst({
    where: { name: '日语' },
  })
  if (!category) {
    console.error('Category "日语" not found. Run seed-japanese.mjs first.')
    process.exit(1)
  }

  const maxTaskPos = await prisma.task.aggregate({ _max: { position: true } })
  let taskPosition = (maxTaskPos._max.position ?? -1) + 1

  console.log('Creating JLPT grammar quests...')
  for (const quest of QUESTS) {
    const task = await prisma.task.create({
      data: {
        title: quest.title,
        description: quest.description,
        status: quest.status,
        priority: quest.priority,
        position: taskPosition++,
        categories: { connect: [{ id: category.id }] },
      },
    })
    console.log(`  + Quest: ${quest.title} [${quest.status}]`)

    await prisma.learningPlan.create({
      data: {
        taskId: task.id,
        objectives: JSON.stringify(quest.objectives),
        resources: JSON.stringify(quest.resources),
        milestones: JSON.stringify(quest.milestones),
      },
    })

    for (const note of quest.notes) {
      await prisma.note.create({
        data: {
          taskId: task.id,
          title: note.title,
          content: note.content,
        },
      })
      console.log(`    - Note: ${note.title}`)
    }
  }

  const questCount = QUESTS.length
  const noteCount = QUESTS.reduce((sum, q) => sum + q.notes.length, 0)
  console.log(`\nDone! Added ${questCount} quests, ${noteCount} notes under 日语 category.`)
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(() => prisma.$disconnect())
